---
sidebar_position: 0
tags: [OP, Operators]
---

import TabItem from '@theme/TabItem';
import Tabs from '@theme/Tabs';

# AND, OR, XOR

Logical helpers to combine multiple conditions into a single group.

## AND

> AND(...conditions: Condition[])

Combines multiple conditions with `AND`, wrapping them in a group.

<Tabs>
  <TabItem value='OP.AND' default>

```ts
// highlight-start
import { OP, useD1 } from 'cl-orm';

const { AND, gte, eq } = OP;
const db = useD1(env.DB);

await db.select({
  from: 'users',
  // highlight-end
  where: AND(gte('age', 18), eq('status', 'active')),
  // highlight-start
});
// highlight-end
```

  </TabItem>
  <TabItem value='Array'>

```ts
// highlight-start
import { OP, useD1 } from 'cl-orm';

const { gte, eq } = OP;
const db = useD1(env.DB);

await db.select({
  from: 'users',
  // highlight-end
  where: [gte('age', 18), 'AND', eq('status', 'active')],
  // highlight-start
});
// highlight-end
```

  </TabItem>
  <TabItem value='Manual'>

```ts
// highlight-start
import { useD1 } from 'cl-orm';

const db = useD1(env.DB);

await db.select({
  from: 'users',
  // highlight-end
  where: '`age` >= ? AND `status` = ?',
  params: [18, 'active'],
  // highlight-start
});
// highlight-end
```

  </TabItem>
</Tabs>

> SQL Query

```sql
SELECT * FROM users WHERE (`age` >= ? AND `status` = ?)

-- params [18, 'active']
```

<hr />

## OR

> OR(...conditions: Condition[])

Combines multiple conditions with `OR`, wrapping each in a group.

<Tabs>
  <TabItem value='OP.OR' default>

```ts
// highlight-start
import { OP, useD1 } from 'cl-orm';

const { OR, eq } = OP;
const db = useD1(env.DB);

await db.select({
  from: 'users',
  // highlight-end
  where: OR(eq('status', 'active'), eq('status', 'pending')),
  // highlight-start
});
// highlight-end
```

  </TabItem>
  <TabItem value='Array'>

```ts
// highlight-start
import { OP, useD1 } from 'cl-orm';

const { eq } = OP;
const db = useD1(env.DB);

await db.select({
  from: 'users',
  // highlight-end
  where: [eq('status', 'active'), 'OR', eq('status', 'pending')],
  // highlight-start
});
// highlight-end
```

  </TabItem>
  <TabItem value='Manual'>

```ts
// highlight-start
import { useD1 } from 'cl-orm';

const db = useD1(env.DB);

await db.select({
  from: 'users',
  // highlight-end
  where: '(`status` = ?) OR (`status` = ?)',
  params: ['active', 'pending'],
  // highlight-start
});
// highlight-end
```

  </TabItem>
</Tabs>

> SQL Query

```sql
SELECT * FROM users WHERE (`status` = ?) OR (`status` = ?)

-- params ['active', 'pending']
```

<hr />

## XOR

> XOR(...conditions: Condition[])

Combines multiple conditions with `XOR`, wrapping each in a group.

<Tabs>
  <TabItem value='OP.XOR' default>

```ts
// highlight-start
import { OP, useD1 } from 'cl-orm';

const { XOR, eq } = OP;
const db = useD1(env.DB);

await db.select({
  from: 'users',
  // highlight-end
  where: XOR(eq('isAdmin', true), eq('isModerator', true)),
  // highlight-start
});
// highlight-end
```

  </TabItem>
  <TabItem value='Array'>

```ts
// highlight-start
import { OP, useD1 } from 'cl-orm';

const { eq } = OP;
const db = useD1(env.DB);

await db.select({
  from: 'users',
  // highlight-end
  where: [eq('isAdmin', true), 'XOR', eq('isModerator', true)],
  // highlight-start
});
// highlight-end
```

  </TabItem>
  <TabItem value='Manual'>

```ts
// highlight-start
import { useD1 } from 'cl-orm';

const db = useD1(env.DB);

await db.select({
  from: 'users',
  // highlight-end
  where: '(`isAdmin` = ?) XOR (`isModerator` = ?)',
  params: [true, true],
  // highlight-start
});
// highlight-end
```

  </TabItem>
</Tabs>

> SQL Query

```sql
SELECT * FROM users WHERE (`isAdmin` = ?) XOR (`isModerator` = ?)

-- params [true, true]
```

<hr />

## Combining logical operators

<Tabs>
  <TabItem value='OP.AND + OP.OR' default>

```ts
// highlight-start
import { OP, useD1 } from 'cl-orm';

const { OR, AND, gte, lt, eq } = OP;
const db = useD1(env.DB);

await db.select({
  from: 'users',
  // highlight-end
  where: OR(
    AND(gte('age', 18), eq('status', 'locked')),
    AND(lt('age', 18), eq('status', 'enabled'))
  ),
  // highlight-start
});
// highlight-end
```

  </TabItem>
  <TabItem value='Array'>

```ts
// highlight-start
import { OP, useD1 } from 'cl-orm';

const { gte, lt, eq } = OP;
const db = useD1(env.DB);

await db.select({
  from: 'users',
  // highlight-end
  where: [
    [gte('age', 18), 'AND', eq('status', 'locked')],
    'OR',
    [lt('age', 18), 'AND', eq('status', 'enabled')],
  ],
  // highlight-start
});
// highlight-end
```

  </TabItem>
  <TabItem value='Manual'>

```ts
// highlight-start
import { useD1 } from 'cl-orm';

const db = useD1(env.DB);

await db.select({
  from: 'users',
  // highlight-end
  where: '(`age` >= ? AND `status` = ?) OR (`age` < ? AND `status` = ?)',
  params: [18, 'locked', 18, 'enabled'],
  // highlight-start
});
// highlight-end
```

  </TabItem>
</Tabs>

> SQL Query

```sql
SELECT * FROM users WHERE ((`age` >= ? AND `status` = ?)) OR ((`age` < ? AND `status` = ?))

-- params [18, 'locked', 18, 'enabled']
```
