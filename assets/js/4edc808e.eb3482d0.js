"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[308],{1470(e,n,s){s.d(n,{A:()=>D});var r=s(6540),t=s(4164),a=s(7559),i=s(3104),l=s(6347),o=s(205),c=s(7485),d=s(1682),u=s(679);function h(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m(e){const{values:n,children:s}=e;return(0,r.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:s,default:r}})=>({value:e,label:n,attributes:s,default:r}))}(s);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,s])}function p({value:e,tabValues:n}){return n.some(n=>n.value===e)}function g({queryString:e=!1,groupId:n}){const s=(0,l.W6)(),t=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(t),(0,r.useCallback)(e=>{if(!t)return;const n=new URLSearchParams(s.location.search);n.set(t,e),s.replace({...s.location,search:n.toString()})},[t,s])]}function x(e){const{defaultValue:n,queryString:s=!1,groupId:t}=e,a=m(e),[i,l]=(0,r.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find(e=>e.default)??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:a})),[c,d]=g({queryString:s,groupId:t}),[h,x]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,t]=(0,u.Dv)(n);return[s,(0,r.useCallback)(e=>{n&&t.set(e)},[n,t])]}({groupId:t}),j=(()=>{const e=c??h;return p({value:e,tabValues:a})?e:null})();(0,o.A)(()=>{j&&l(j)},[j]);return{selectedValue:i,selectValue:(0,r.useCallback)(e=>{if(!p({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),x(e)},[d,x,a]),tabValues:a}}var j=s(2303);const f="tabList__CuJ",b="tabItem_LNqP";var v=s(4848);function y({className:e,block:n,selectedValue:s,selectValue:r,tabValues:a}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,i.a_)(),c=e=>{const n=e.currentTarget,t=l.indexOf(n),i=a[t].value;i!==s&&(o(n),r(i))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const s=l.indexOf(e.currentTarget)+1;n=l[s]??l[0];break}case"ArrowLeft":{const s=l.indexOf(e.currentTarget)-1;n=l[s]??l[l.length-1];break}}n?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:r})=>(0,v.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:c,...r,className:(0,t.A)("tabs__item",b,r?.className,{"tabs__item--active":s===e}),children:n??e},e))})}function w({lazy:e,children:n,selectedValue:s}){const a=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===s);return e?(0,r.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:a.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s}))})}function A(e){const n=x(e);return(0,v.jsxs)("div",{className:(0,t.A)(a.G.tabs.container,"tabs-container",f),children:[(0,v.jsx)(y,{...n,...e}),(0,v.jsx)(w,{...n,...e})]})}function D(e){const n=(0,j.A)();return(0,v.jsx)(A,{...e,children:h(e.children)},String(n))}},1622(e,n,s){s.d(n,{A:()=>x});var r=s(6540),t=s(4164),a=s(3427),i=s(2303),l=s(1422);const o="details_lb9f",c="isBrowser_bmU9",d="collapsibleContent_i85q";var u=s(4848);function h(e){return!!e&&("SUMMARY"===e.tagName||h(e.parentElement))}function m(e,n){return!!e&&(e===n||m(e.parentElement,n))}function p({summary:e,children:n,...s}){(0,a.A)().collectAnchor(s.id);const p=(0,i.A)(),g=(0,r.useRef)(null),{collapsed:x,setCollapsed:j}=(0,l.u)({initialState:!s.open}),[f,b]=(0,r.useState)(s.open),v=r.isValidElement(e)?e:(0,u.jsx)("summary",{children:e??"Details"});return(0,u.jsxs)("details",{...s,ref:g,open:f,"data-collapsed":x,className:(0,t.A)(o,p&&c,s.className),onMouseDown:e=>{h(e.target)&&e.detail>1&&e.preventDefault()},onClick:e=>{e.stopPropagation();const n=e.target;h(n)&&m(n,g.current)&&(e.preventDefault(),x?(j(!1),b(!0)):j(!0))},children:[v,(0,u.jsx)(l.N,{lazy:!1,collapsed:x,onCollapseTransitionEnd:e=>{j(e),b(!e)},children:(0,u.jsx)("div",{className:d,children:n})})]})}const g="details_b_Ee";function x({...e}){return(0,u.jsx)(p,{...e,className:(0,t.A)("alert alert--info",g,e.className)})}},7597(e,n,s){s.r(n),s.d(n,{assets:()=>b,contentTitle:()=>f,default:()=>w,frontMatter:()=>j,metadata:()=>r,toc:()=>v});const r=JSON.parse('{"id":"index","title":"Getting Started","description":"A lightweight ORM for Cloudflare Workers, designed to be intuitive, productive and focused on essential functionality.","source":"@site/docs/index.mdx","sourceDirName":".","slug":"/","permalink":"/cl-orm/docs/","draft":false,"unlisted":false,"editUrl":"https://github.com/wellwelwel/cl-orm/tree/main/website/docs/index.mdx","tags":[],"version":"current","frontMatter":{"slug":"/","position":1,"title":"Getting Started","description":"A lightweight ORM for Cloudflare Workers, designed to be intuitive, productive and focused on essential functionality."},"sidebar":"docs","next":{"title":"Documentation","permalink":"/cl-orm/docs/category/documentation"}}');var t=s(4848),a=s(8453),i=s(1622);const l=({children:e,open:n,title:s})=>(0,t.jsx)(i.A,{open:n,className:"faq",summary:(0,t.jsx)("summary",{children:(0,t.jsx)("strong",{children:s})}),children:(0,t.jsx)("section",{children:e})});var o=s(5260);const c=({title:e})=>(0,t.jsx)(o.A,{children:(0,t.jsx)("title",{children:e})});var d,u,h=s(6540);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)({}).hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},m.apply(null,arguments)}const p=({title:e,titleId:n,...s})=>h.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","aria-labelledby":n},s),e?h.createElement("title",{id:n},e):null,h.createElement("path",{d:"M25.63 189.17c-.13-13.99.4-27.94 4.44-41.45 5.62-18.81 16.92-33.76 32.43-45.51 13.35-10.11 28.65-17 43.19-25.14 35.66-19.97 71.43-39.73 107.26-59.39 29.02-15.92 58.54-16.79 87.77-.91 46.2 25.09 92.22 50.51 138.15 76.09 20.49 11.41 35.8 27.79 44.4 49.93 4.75 12.22 5.78 25.04 5.95 37.99.04 2.96.17 5.91.25 8.87-1.39.44-1-.67-1.2-1.33-3.06-9.91-8.61-17.98-18.07-22.64-12.15-5.99-24.62-5.31-36.51.45-19.94 9.66-38.92 21.17-58.36 31.78-22.88 12.48-45.56 25.32-68.38 37.91-11.76 6.49-22.56 14-30.43 25.23-8.82 12.58-13.84 26.56-16.13 41.64-1.19.24-1.19 2.17-2.94 1.95-.37-1.39-.9-2.77-1.09-4.2-1.15-8.49-4.14-16.44-7.58-24.18-2.49-5.6-5.81-10.81-9.69-15.58-7.21-8.85-15.17-16.9-25.29-22.49-14.87-8.23-29.57-16.8-44.7-24.54-10.53-5.39-20.29-12.06-30.87-17.3-6.11-3.03-12.23-6.07-18.18-9.4-13.08-7.31-26.06-14.81-39.51-21.46-8.66-4.28-17.8-4.85-26.98-2.99-12.14 2.47-20.45 9.89-24.95 21.47-.74 1.9-1.7 3.65-3 5.21Zm232.16-40.25c5.4.17 11.32-.45 16.74-3 9.59-4.5 16.52-11.68 16.92-22.66.36-9.76-5.41-16.89-13.86-21.05-14.34-7.06-29.07-6.56-42.89 1.17-14.19 7.94-15.7 25.99-3.61 36.88 7.37 6.64 16.47 8.62 26.7 8.65Z",style:{fill:"#fdfdfd"}}),h.createElement("path",{d:"M25.63 189.17c1.31-1.56 2.27-3.32 3-5.21 4.5-11.58 12.81-19 24.95-21.47 9.18-1.87 18.32-1.29 26.98 2.99 13.45 6.65 26.42 14.14 39.51 21.46 5.95 3.33 12.06 6.38 18.18 9.4 10.59 5.24 20.34 11.91 30.87 17.3 15.12 7.74 29.82 16.31 44.7 24.54 10.12 5.6 18.08 13.64 25.29 22.49 3.88 4.77 7.21 9.98 9.69 15.58 3.44 7.74 6.42 15.68 7.58 24.18.19 1.43.72 2.82 1.09 4.2 1.74.22 1.74-1.71 2.94-1.95-.22 4.82-.62 9.63-.63 14.45-.06 31.45-.02 62.89-.05 94.34 0 8.49.41 17.02-1.41 25.42-.24 7.29-1.83 14.34-4.37 21.12-5.59 14.95-14.86 26.22-31.22 30.04-8.6 2.01-17.02.95-25.36-1.51-4.08-2-8.25-3.86-12.24-6.04-24.17-13.19-48.45-26.17-72.39-39.77-18.05-10.25-37.49-18.28-53.26-32.31-3.22-3.57-6.44-7.14-9.66-10.7-2.52-4.11-6.38-7.28-8.29-11.82-.43-.96-.5-2.18-1.77-2.57-2.27-6.61-5.64-12.75-7.88-19.39-5.28-15.67-5.79-31.8-5.69-48.13.22-36.85.04-73.71-.04-110.56-.01-5.36-.34-10.73-.52-16.09Zm140.21 211.11c-1.96 19.82 16.89 39.61 29.73 43.52 14.06 4.28 24.46-3.66 24.58-18.22.08-9.64-3.57-18.06-8.68-25.92-6.05-9.3-14.17-16.13-25.08-18.95-7.83-2.03-15.22 1.9-18.45 9.3-1.52 3.49-2.1 7.18-2.1 10.27M57.86 230.3c0 12.56 5.99 21.98 13.5 30.62 4.87 5.61 10.49 10.36 17.94 12.34 9.83 2.61 17.99-.86 21.41-9.27 2.02-4.98 2.48-10.18 1.22-15.41-4.08-17-13.09-30.3-29.68-37.13-11.65-4.8-21.69 1.31-23.75 13.74-.31 1.85-.47 3.71-.65 5.11Z",style:{fill:"#deddff"}}),h.createElement("path",{d:"M258.32 436.88c1.82-8.4 1.4-16.92 1.41-25.42.03-31.45 0-62.89.05-94.34 0-4.82.41-9.63.63-14.45 2.28-15.08 7.3-29.06 16.13-41.64 7.87-11.22 18.67-18.74 30.43-25.23 22.82-12.59 45.5-25.43 68.38-37.91 19.45-10.61 38.42-22.12 58.36-31.78 11.89-5.76 24.36-6.45 36.51-.45 9.45 4.66 15 12.74 18.07 22.64.2.66-.18 1.77 1.2 1.33-.04 8.58-.13 17.15-.12 25.73.01 18.96.04 37.91.12 56.87.09 22.32.38 44.64-.36 66.96-.38 11.3-4.14 21.81-8.32 32.16-1.21 2.98-2.41 5.97-3.61 8.96-.97.07-1.53.65-1.85 1.51-.06.25-.09.51-.08.78l.02-.02c-2.88 3.46-5.15 7.32-7.35 11.23l-13.65 15.33c-9.51 8.43-20.47 14.62-31.55 20.68-20.84 11.4-41.58 22.97-62.38 34.43-13.6 7.49-27.25 14.91-40.88 22.36-.52.12-1.06.2-1.57.35-25.03 7.5-48.52-5.35-55.44-30.56-1.76-6.4-2.77-13.01-4.12-19.53Zm91.73-34.62c0-1.21.09-2.43-.01-3.63-1.12-13.55-10.09-20.58-22.2-17.6-16.24 4-34.78 27.43-30.68 49.74 2 10.89 9.89 15.48 20.84 13.38 10.35-1.99 16.83-9.13 22.91-16.69 5.84-7.28 9.22-15.67 9.15-25.19Zm54.39-82.89c-.07-1.61-.1-3.23-.23-4.84-.74-9.07-7.18-15.92-15.74-16.55-4.41-.32-8.64.82-12.31 3.16-15.46 9.86-24.98 23.43-25.17 42.33-.14 13.71 10.31 21.23 23.57 17.88 14.14-3.57 31.24-25.33 29.88-41.99Zm52.99-86.47c-.19-1.87-.41-3.74-.55-5.61-.98-13-9.81-19.55-22.43-16.46a21.1 21.1 0 0 0-6.27 2.67c-16.05 10.23-24.62 24.78-24.37 43.95.14 11.38 8.82 18.03 20.1 16.33 8.67-1.3 15-6.24 20.58-12.46 7.26-8.11 12.01-17.4 12.95-28.43Z",style:{fill:"#b1afff"}}),h.createElement("path",{d:"M257.79 148.92c-10.23-.04-19.33-2.01-26.7-8.65-12.09-10.88-10.58-28.93 3.61-36.88 13.82-7.74 28.55-8.23 42.89-1.17 8.45 4.16 14.22 11.29 13.86 21.05-.4 10.97-7.33 18.15-16.92 22.66-5.42 2.54-11.34 3.17-16.74 3Z",style:{fill:"#8381f1"}}),d||(d=h.createElement("path",{d:"M165.84 400.28c0-3.09.57-6.78 2.1-10.27 3.23-7.4 10.62-11.33 18.45-9.3 10.91 2.82 19.03 9.65 25.08 18.95 5.11 7.86 8.77 16.28 8.68 25.92-.13 14.57-10.53 22.5-24.58 18.22-12.83-3.91-31.69-23.7-29.73-43.52M57.86 230.3c.17-1.4.34-3.26.65-5.11 2.06-12.43 12.1-18.53 23.75-13.74 16.59 6.83 25.6 20.13 29.68 37.13 1.25 5.23.8 10.43-1.22 15.41-3.42 8.41-11.57 11.88-21.41 9.27-7.45-1.98-13.07-6.73-17.94-12.34-7.51-8.64-13.5-18.06-13.5-30.62Z"})),h.createElement("path",{d:"M258.32 436.88c1.35 6.52 2.36 13.13 4.12 19.53 6.92 25.21 30.41 38.06 55.44 30.56.51-.15 1.05-.24 1.57-.35-.3.57-.59 1.14-.89 1.71-1.39.14-2.44.97-3.59 1.65-4.35 2.58-8.63 5.27-13.24 7.43-7.36 3.45-15.14 5.76-22.71 8.65-1.74.12-3.51.06-5.21.4-11.86 2.37-23.67 1.44-35.36-.86-11.81-2.32-22.72-7.21-33.01-13.35-2.8-1.67-6.17-2.71-8.07-5.72 8.34 2.46 16.76 3.52 25.36 1.51 16.36-3.83 25.63-15.1 31.22-30.04 2.54-6.78 4.13-13.83 4.37-21.12",style:{fill:"#deddff"}}),u||(u=h.createElement("path",{d:"M350.05 402.27c.07 9.52-3.31 17.92-9.15 25.19-6.07 7.57-12.56 14.7-22.91 16.69-10.96 2.11-18.84-2.48-20.84-13.38-4.1-22.31 14.44-45.74 30.68-49.74 12.11-2.98 21.09 4.05 22.2 17.6.1 1.2.01 2.42.01 3.63Zm54.38-82.9c1.36 16.66-15.74 38.42-29.88 41.99-13.26 3.35-23.71-4.17-23.57-17.88.19-18.9 9.71-32.47 25.17-42.33 3.68-2.34 7.9-3.48 12.31-3.16 8.56.63 15.01 7.48 15.74 16.55.13 1.61.15 3.22.22 4.84Zm53-86.47c-.94 11.03-5.68 20.32-12.95 28.43-5.57 6.22-11.91 11.16-20.58 12.46-11.28 1.69-19.95-4.95-20.1-16.33-.24-19.18 8.32-33.73 24.37-43.95 1.89-1.21 4.09-2.13 6.27-2.67 12.62-3.09 21.45 3.46 22.43 16.46.14 1.87.37 3.74.55 5.61Z"})),h.createElement("path",{d:"M345.28 480.33c.27-.56.54-.55.81 0z",style:{fill:"#31637d"}}));var g=s(9365),x=s(1470);const j={slug:"/",position:1,title:"Getting Started",description:"A lightweight ORM for Cloudflare Workers, designed to be intuitive, productive and focused on essential functionality."},f="CL ORM",b={},v=[{value:"Why",id:"why",level:2},{value:"Installation",id:"installation",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Connect",id:"connect",level:3},{value:"src/index.ts",id:"srcindexts",level:4},{value:"wrangler.jsonc",id:"wranglerjsonc",level:4},{value:"src/index.ts",id:"srcindexts-1",level:4},{value:"wrangler.jsonc",id:"wranglerjsonc-1",level:4},{value:"Documentation",id:"documentation",level:2},{value:"D1 vs Durable Objects",id:"d1-vs-durable-objects",level:2},{value:"Returning a single user",id:"returning-a-single-user",level:3},{value:"Returning enabled users based on their specializations",id:"returning-enabled-users-based-on-their-specializations",level:3},{value:"Acknowledgements",id:"acknowledgements",level:2}];function y(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",ins:"ins",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c,{title:"CL ORM | Getting Started"}),"\n",(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"cl-orm",children:"CL ORM"})}),"\n",(0,t.jsxs)("div",{className:"title-section",children:[(0,t.jsxs)("aside",{children:[(0,t.jsxs)(n.p,{children:["\u26c5\ufe0f A lightweight ",(0,t.jsx)(n.strong,{children:"ORM"})," for ",(0,t.jsx)(n.strong,{children:"Cloudflare Workers"})," (",(0,t.jsx)(n.strong,{children:"D1"})," and ",(0,t.jsx)(n.strong,{children:"Durable Objects"}),"), designed to be intuitive and productive, focused on essential functionality."]}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://npmjs.org/package/cl-orm",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/npm/v/cl-orm.svg",alt:"NPM Version"})}),"\n",(0,t.jsx)(n.a,{href:"https://npmjs.org/package/cl-orm",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/npm/dt/cl-orm.svg",alt:"NPM Downloads"})})]})]}),(0,t.jsx)("aside",{children:(0,t.jsx)(p,{className:"logo",width:64,height:64})})]}),"\n",(0,t.jsx)(n.h2,{id:"why",children:"Why"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Supports both ",(0,t.jsx)(n.strong,{children:"Cloudflare D1"})," and ",(0,t.jsx)(n.strong,{children:"Durable Objects SQL Storage"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Unified ",(0,t.jsx)(n.strong,{children:"Connection"})," interface across different database drivers."]}),"\n",(0,t.jsxs)(n.li,{children:["User-friendly ",(0,t.jsx)(n.strong,{children:"ORM"})," for ",(0,t.jsx)(n.strong,{children:"INSERT"}),", ",(0,t.jsx)(n.strong,{children:"SELECT"}),", ",(0,t.jsx)(n.strong,{children:"UPDATE"}),", ",(0,t.jsx)(n.strong,{children:"DELETE"})," and ",(0,t.jsx)(n.strong,{children:"WHERE"})," clauses."]}),"\n",(0,t.jsxs)(n.li,{children:["Automatic ",(0,t.jsx)(n.strong,{children:"Prepared Statements"}),"."]}),"\n"]}),"\n",(0,t.jsx)("hr",{}),"\n",(0,t.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm i cl-orm\n"})}),"\n",(0,t.jsx)("hr",{}),"\n",(0,t.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,t.jsx)(n.h3,{id:"connect",children:"Connect"}),"\n",(0,t.jsxs)(x.A,{children:[(0,t.jsxs)(g.A,{value:"D1",default:!0,children:[(0,t.jsx)(n.h4,{id:"srcindexts",children:"src/index.ts"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { useD1 } from 'cl-orm';\n\nexport default {\n  async fetch(request: Request, env: Env): Promise<Response> {\n    const db = useD1(env.DB);\n\n    await db.query('SELECT 1');\n    // ...\n  },\n};\n"})}),(0,t.jsx)(n.h4,{id:"wranglerjsonc",children:"wrangler.jsonc"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "my-worker",\n  "main": "src/index.ts",\n  "d1_databases": [\n    {\n      "binding": "DB",\n      "database_name": "my-database",\n      "database_id": "<your-database-id>"\n    }\n  ]\n}\n'})})]}),(0,t.jsxs)(g.A,{value:"Durable Objects",children:[(0,t.jsx)(n.h4,{id:"srcindexts-1",children:"src/index.ts"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { useDO } from 'cl-orm';\nimport { DurableObject } from 'cloudflare:workers';\n\nexport class MyDurableObject extends DurableObject {\n  async fetch(request: Request): Promise<Response> {\n    const db = useDO(this.ctx.storage.sql);\n\n    await db.query('SELECT 1');\n    // ...\n  }\n}\n"})}),(0,t.jsx)(n.h4,{id:"wranglerjsonc-1",children:"wrangler.jsonc"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "my-worker",\n  "main": "src/index.ts",\n  "durable_objects": {\n    "bindings": [\n      {\n        "name": "MY_DO",\n        "class_name": "MyDurableObject"\n      }\n    ]\n  },\n  "migrations": [\n    {\n      "tag": "v1",\n      "new_sqlite_classes": ["MyDurableObject"]\n    }\n  ]\n}\n'})})]})]}),"\n",(0,t.jsx)("hr",{}),"\n",(0,t.jsx)(n.h2,{id:"documentation",children:"Documentation"}),"\n",(0,t.jsxs)(n.p,{children:["See detailed specifications and usage in ",(0,t.jsx)(n.a,{href:"/docs/category/documentation",children:(0,t.jsx)(n.strong,{children:"Documentation"})})," section."]}),"\n",(0,t.jsx)("hr",{}),"\n",(0,t.jsx)(n.h2,{id:"d1-vs-durable-objects",children:"D1 vs Durable Objects"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"CL ORM"})," provides a unified ",(0,t.jsx)(n.strong,{children:"Connection"})," interface across both drivers. The same API works identically regardless of the underlying database."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["The following examples are based on ",(0,t.jsx)(n.strong,{children:"TypeScript"})," and ",(0,t.jsx)(n.strong,{children:"ES Modules"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"returning-a-single-user",children:"Returning a single user"}),"\n",(0,t.jsxs)(x.A,{children:[(0,t.jsx)(g.A,{value:"OP",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import type { Connection } from 'cl-orm';\nimport { OP } from 'cl-orm';\n\nconst { eq } = OP;\n\nexport const getUser = async (db: Connection, id: number) => {\n  const user = await db.select({\n    from: 'users',\n    where: eq('id', id),\n    limit: 1,\n  });\n\n  return user;\n};\n\n// Usage: await getUser(db, 15);\n"})})}),(0,t.jsx)(g.A,{value:"Manual",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import type { Connection } from 'cl-orm';\n\nexport const getUser = async (db: Connection, id: number) => {\n  const user = await db.select({\n    from: 'users',\n    where: '`id` = ?',\n    params: [id],\n    limit: 1,\n  });\n\n  return user;\n};\n\n// Usage: await getUser(db, 15);\n"})})})]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Due to ",(0,t.jsx)(n.code,{children:"limit: 1"}),", it returns a direct object with the row result or ",(0,t.jsx)(n.code,{children:"null"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(l,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.ins,{children:"OP"})," Explanation"]}),children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"OP"})," = Operation"]}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"OP.eq"}),": is ",(0,t.jsx)(n.strong,{children:"column"})," equal to ",(0,t.jsx)(n.strong,{children:"value"}),(0,t.jsx)("br",{})]}),(0,t.jsxs)(n.p,{children:["See all available operators ",(0,t.jsx)(n.a,{href:"/docs/category/operators",children:"here"}),"."]})]}),"\n",(0,t.jsx)("hr",{}),"\n",(0,t.jsx)(n.h3,{id:"returning-enabled-users-based-on-their-specializations",children:"Returning enabled users based on their specializations"}),"\n",(0,t.jsxs)(x.A,{children:[(0,t.jsx)(g.A,{value:"OP.AND",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import type { Connection, Param } from 'cl-orm';\nimport { OP } from 'cl-orm';\n\nconst { AND, eq, in: IN } = OP;\n\nexport const getUsersBySpecializations = async (\n  db: Connection,\n  specializations: Param[]\n) => {\n  const users = await db.select({\n    columns: ['name', 'age'],\n    from: 'users',\n    where: AND(eq('status', true), IN('specialization', specializations)),\n    orderBy: ['name'],\n    limit: 10,\n  });\n\n  return users;\n};\n\n// Usage: await getUsersBySpecializations(db, ['frontend', 'backend']);\n"})})}),(0,t.jsx)(g.A,{value:"Array",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import type { Connection, Param } from 'cl-orm';\nimport { OP } from 'cl-orm';\n\nconst { eq, in: IN } = OP;\n\nexport const getUsersBySpecializations = async (\n  db: Connection,\n  specializations: Param[]\n) => {\n  const users = await db.select({\n    columns: ['name', 'age'],\n    from: 'users',\n    where: [eq('status', true), 'AND', IN('specialization', specializations)],\n    orderBy: ['name'],\n    limit: 10,\n  });\n\n  return users;\n};\n\n// Usage: await getUsersBySpecializations(db, ['frontend', 'backend']);\n"})})}),(0,t.jsx)(g.A,{value:"Manual",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import type { Connection, Param } from 'cl-orm';\n\nexport const getUsersBySpecializations = async (\n  db: Connection,\n  specializations: Param[]\n) => {\n  const users = await db.select({\n    columns: ['name', 'age'],\n    from: 'users',\n    where: `\\`status\\` = ? AND \\`specialization\\` IN (${specializations.map(() => '?').join(', ')})`,\n    params: [true, ...specializations],\n    orderBy: ['name'],\n    limit: 10,\n  });\n\n  return users;\n};\n\n// Usage: await getUsersBySpecializations(db, ['frontend', 'backend']);\n"})})})]}),"\n",(0,t.jsxs)(l,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.ins,{children:"OP"})," Explanation"]}),children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"OP"})," = Operation"]}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"OP.eq"}),": is ",(0,t.jsx)(n.strong,{children:"column"})," equal to ",(0,t.jsx)(n.strong,{children:"value"}),(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.code,{children:"OP.in"}),": is in ",(0,t.jsx)(n.strong,{children:"column"})," [",(0,t.jsx)(n.strong,{children:"values"}),",]"]}),(0,t.jsxs)(n.p,{children:["See all available operators ",(0,t.jsx)(n.a,{href:"/docs/category/operators",children:"here"}),"."]})]}),"\n",(0,t.jsx)("hr",{}),"\n",(0,t.jsx)(n.h2,{id:"acknowledgements",children:"Acknowledgements"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The operator names ",(0,t.jsx)(n.strong,{children:"eq"}),", ",(0,t.jsx)(n.strong,{children:"ne"}),", ",(0,t.jsx)(n.strong,{children:"gt"}),", ",(0,t.jsx)(n.strong,{children:"lt"}),", ",(0,t.jsx)(n.strong,{children:"gte"})," and ",(0,t.jsx)(n.strong,{children:"lte"})," are inspired by ",(0,t.jsx)(n.a,{href:"https://sequelize.org/docs/v6/core-concepts/model-querying-basics/#operators",children:(0,t.jsx)(n.strong,{children:"Sequelize"})}),"."]}),"\n"]})]})}function w(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(y,{...e})}):y(e)}},8453(e,n,s){s.d(n,{R:()=>i,x:()=>l});var r=s(6540);const t={},a=r.createContext(t);function i(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(a.Provider,{value:n},e.children)}},9365(e,n,s){s.d(n,{A:()=>i});s(6540);var r=s(4164);const t="tabItem_Ymn6";var a=s(4848);function i({children:e,hidden:n,className:s}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.A)(t,s),hidden:n,children:e})}}}]);